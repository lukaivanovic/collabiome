{%- liquid
  assign benefits = product.metafields.custom.benefits_content.value
  assign benefits_title = product.metafields.custom.benefits_title.value
  assign benefits_description = product.metafields.custom.benefits_description.value
  assign product_theme = product.metafields.custom.theme.value | default: 'default'

  case product_theme
    when 'recupera'
      assign product_theme_class = 'product-theme-recupera'
    when 'boost'
      assign product_theme_class = 'product-theme-boost'
    else
      assign product_theme_class = 'product-theme-default'
  endcase
-%}

<div class="container py-30 {{ product_theme_class }}">
  <div class="bg-[var(--product-background)] rounded-3xl overflow-hidden p-8">
    <div class="text-center mb-12">
      <h2 class="text-4xl uppercase font-medium">{{ benefits_title | default: 'Product Benefits' }}</h2>

      {% if benefits_description %}
        <p class="text-base opacity-70 mt-2">{{ benefits_description }}</p>
      {% endif %}
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      {% for benefit in benefits %}
        <div class="flex flex-col items-center text-center">
          {% if benefit.icon %}
            <div class="mb-4">
              {% render 'image', image: benefit.icon, class: 'size-8 [&>img]:size-8' %}
            </div>
          {% else %}
            <div class="mb-4 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center">
              <div class="w-4 h-4 bg-white rounded-full"></div>
            </div>
          {% endif %}

          <div>
            {% if benefit.title %}
              <h3 class="font-semibold text-lg mb-2">{{ benefit.title }}</h3>
            {% endif %}

            {% if benefit.description %}
              <p class="text-sm opacity-70">{{ benefit.description }}</p>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Product Benefits",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    }
  ],
  "presets": [
    {
      "name": "Product Benefits",
      "category": "Product"
    }
  ]
}
{% endschema %}

{% liquid
  assign section_id = section.settings.custom_id | default: section.id
%}

<section class="rotating-text-section" id="rotating-text-{{ section_id }}">
  {% content_for 'blocks' %}
</section>

{% stylesheet %}
  .rotating-text {
    position: relative;
    padding-top: 24px;
    padding-bottom: 24px;
    margin-top: -64px;
  }

  .rotating-text__viewport {
    overflow: hidden;
    width: 100%;
  }

  .rotating-text__track {
    display: inline-flex;
    align-items: center;
    gap: var(--rt-gap, 2rem);
    will-change: transform;
    transform: translate3d(0, 0, 0);
    animation: rt-marquee linear infinite;
    animation-duration: var(--rt-duration, 20s);
  }

  .rotating-text__segment {
    white-space: nowrap;
  }

  @keyframes rt-marquee {
    to {
      transform: translate3d(calc(-1 * var(--rt-segment-width, 0px)), 0, 0);
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Rotating text",
  "tag": "section",
  "class": "rotating-text-section",
  "blocks": [{ "type": "@theme" }],
  "max_blocks": 10,
  "presets": [
    {
      "name": "Rotating text",
      "category": "Media",
      "blocks": {
        "rotating-text": {
          "type": "rotating-text",
          "name": "Rotating text"
        }
      },
      "block_order": ["rotating-text"]
    }
  ]
}
{% endschema %}
